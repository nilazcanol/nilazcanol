<div class="row" *ngIf="listProduct.length > 0; else messageThereAreNoProducts">
	<div class="col-sm-12 col-md-12 col-lg-4 mt-4">
		<button
			class="btn btn-primary mb-2"
			(click)="totalPrice()"
			[disabled]="listProduct.length == 0"
		>
			<i class="pi pi-money-bill mx-2"></i>

			Calculate Total
		</button>

		<div *ngIf="HaveProducts" class="col-sm-12">
			<h3 class="mt-3">Total</h3>
			<h5>{{ total | currency: '$':'symbol':'1.0-0' }}</h5>
			<h5>Pay with</h5>
			<input
				class="form-control mb-4"
				type="number"
				(keyup)="onKey($event)"
				min="1"
				id="change"
				oninput="this.value = Math.abs(this.value)"
			/>
			<h5 class="mb-3" [hidden]="change < total">
				Change: {{ change - total | currency: 'USD':'symbol':'1.0-0' }}
			</h5>
			<div class="btn-group">
				<button
					class="btn btn-danger mt-2"
				>
					<i class="pi pi-chevron-left mx-2"></i>
					Back
				</button>
				<button
					class="btn btn-primary mt-2"
					(click)="finishPurchase()"
					[disabled]="change < total"
				>
					<i class="pi pi-check-circle mx-2"></i>
					Finish purchase
				</button>
				
			</div>
		</div>
	</div>

	<div class="col-sm-12 col-md-12 col-lg-8 mt-4">
		<h3>Shopping cart</h3>

		<p-table [value]="listProduct" responsiveLayout="scroll">
			<ng-template pTemplate="header">
				<tr>
					<th>Name</th>
					<th class="d-none d-sm-none d-md-table-cell">Category</th>
					<th>Price</th>
					<th class="d-none d-sm-none d-md-table-cell">SubTotal</th>
					<th></th>
				</tr>
			</ng-template>
			<ng-template pTemplate="body" let-item>
				<tr>
					<td>
						{{ item.amount }}
						{{ item.product.name }}
					</td>
					<td class="d-none d-sm-none d-md-table-cell">
						{{ item.product.category }}
					</td>
					<td>{{ item.product.price }}</td>
					<td class="d-none d-sm-none d-md-table-cell">
						{{ item.product.price * item.amount }}
					</td>
					<td>
						<button class="btn-danger btn" disabled>
							<i class="pi pi-trash"></i>
							Delete
						</button>
					</td>
				</tr>
			</ng-template>
		</p-table>
	</div>
</div>

<ng-template #messageThereAreNoProducts>
	<h3 class="mt-3">Do not add product to your cart</h3>
</ng-template>
